# Чат-Бот для поиска фильмов

[![Запустить приложение](https://img.shields.io/badge/Streamlit-Запустить%20приложение-red?style=for-the-badge&logo=streamlit)]([https://ваш-домен.com](https://movie-search-chatbot-by-sanchezzz.streamlit.app/))

## Основная идея, уникальность, целевая аудитория
Movie Search Chatbot создан для удобного поиска по фильмам, для вытаскивания из них нетривиальной информации используя различные группировки, для поиска фильмов по описанию, рекомендации похожих фильмов и просто общения. целевой аудиторией выступают:
любители кино, которые хотят получить рекомендацию основываясь на своих предпочтениях;
помните сюжет или какие-то его фрагменты или только имя главного героя, а может только режиссера или парочку из актерского состава, или только жанр и страну выпуска фильма, но никак не можете вспомнить название фильма, знакомо? - чат-бот решит вашу проблему
нужно получить сложно-аггригированную информацию, которой нет в открытом доступе, либо на подсчеты которой нужно затратить приличное количество времени, пример: средний рейтинг фильмов, в которых снимались вместе Том Харди и Ди Каприо - чат-бот решит и эту проблему.
## Особенности реализации
1. чат с пользователем.В качестве модели под капотом чат-бота выступает gemma2-27b от компании google, доступ к которой предоставляется по API-ключу сервиса NVIDIA.
2. Примеры с запросами в выдвигающемся окне
3. история чата
## Необходимые библиотеки и ресурсы для работы сервиса
Все необходимые библиотеки находятся в файле requirements.txt, но из основных библиотек можно выделить Langchain с помощью которой и был реализован больший функционал чат-бота.
## Технические особенности
1. Парсинг данных: в качестве данных выступат портал iMdb, на котором было спаршено информация о более чем 5000 фильмов с помощью работы их API и гет-реквест запросов.
2. Базы данных: для хранения информации используется 2 базы данных: FAISS и sqlite, в случае с sqlite была спроектирована схема <вставить схему>. Каждая база данных нужна для разного функционала. Векторная faiss для нахождения наиболее релевантных фильмов по ключивым словам, используя косинусное сходство для нахождения сходства, а sqlite для запросов к sql бд.
3. под lanhchain функционалом выступают 2 агента в связке как инструменты одного супер-агента. sql-агент и retriever-агент. В качестве инструментов для sql агента выступает стандартный набор инструментов для sql агента из библиотеки langchain_community с дополнительным промртингом для стабилизации работы с gemma и для вывода нужной информации. в качестве инструментов для retriever агента выступает собственная цепочка, которая делает обработку текста пользователя, поиск и вытаскивание данных из БД по с помощью ретривера и постобработку данных. 
4. промпт Супер агента кастомный на основе react агента, который вытягивается с помощью hub langchain библиотеки. промпт позволяет в приоритете вести диалог на русском, использовать агентов как инструменты по необходимости, а так же вести диалог с пользователем.
5. память: так же в агенте используется память conversationbuffermemmory из той же langchain библиотеки. она нужна для учета предыдущих запросов для корретного диалога бота с пользователем.
## Деплой
в качестве MVP была выбрана платформа streamlit, которая предоставляет собственную интернет-страничку в качестве приложения. приоритет пал на этот сервис в прежде всего из-за скорости и простоты деплоя проекта.
## Дальнейшие шаги для улучшения
в дальнейшем планируется обработка ошибок, которые могут быть вывзваны, дополнение к бд, деплой бота с помощью телеграм.
